<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
                      "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
    <head>
        <title>Mahout Recommender Plugin 0.5</title>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <link rel="stylesheet" href="../css/main.css" type="text/css" media="screen, print" title="Style" charset="utf-8" />
        <link rel="stylesheet" href="../css/pdf.css" type="text/css" media="print" title="PDF" charset="utf-8" />
    <script type="text/javascript">
function addJsClass(el) {
    var classes = document.body.className.split(" ");
    classes.push("js");
    document.body.className = classes.join(" ");
}
    </script>
    </head>

    <body class="body" onload="addJsClass();">
        <div id="navigation">
            <ul>
                <li>
                    <div id="nav-summary" onmouseover="toggleNavSummary(false)" onmouseout="toggleNavSummary(true)">
                        <a href="../guide/index.html" class="button">Table of contents</a>
                        <div id="nav-summary-childs" style="display:none;">
                            
                            <div class="toc-item" style="margin-left:0"><a href="#introduction"><strong>1</strong><span>Introduction to Mahout Recommender plugin</span></a></div>
                            
                            <div class="toc-item" style="margin-left:0"><a href="#gettingStarted"><strong>2</strong><span>Getting Started</span></a></div>
                            
                            <div class="toc-item" style="margin-left:0"><a href="#configuration"><strong>3</strong><span>Configuration</span></a></div>
                            
                            <div class="toc-item" style="margin-left:0"><a href="#commandLine"><strong>4</strong><span>The Command Line</span></a></div>
                            
                            <div class="toc-item" style="margin-left:0"><a href="#recommenderController"><strong>5</strong><span>The Recommender Controller</span></a></div>
                            
                            <div class="toc-item" style="margin-left:0"><a href="#sampleApplication"><strong>6</strong><span>The Libimseti Sample Application</span></a></div>
                            
                            <div class="toc-item" style="margin-left:0"><a href="#consulting"><strong>7</strong><span>Consulting and Community</span></a></div>
                            
                        </div>
                    </div>
                </li>
                <li class="separator selected">
                    <a id="ref-button" onclick="localToggle(); return false;" href="#">Quick Reference</a>
                </li>
            </ul>
        </div>
        <div id="header">
            <div class="images clearfix">
                
                
            </div>
            <p>Mahout Recommender Plugin - A Scalable Recommendation System</p>
        </div>


        <table id="colset" border="0" cellpadding="0" cellspacing="0">
            <tr>
                <td id="col1">
                    <div id="main" class="corner-all">

                        <span id='toggle-col1' class="toggle">(<a href="#" onclick="localToggle(); return false;">Quick Reference</a>)</span>

                        <div class="project">
                            <h1>Mahout Recommender Plugin - Reference Documentation</h1>
                            <p><strong>Authors:</strong> Lim Chee Kin</p>
                            <p><strong>Version:</strong> 0.5</p>
                            
                        </div>

                        
                        <div id="table-of-content">
                            <h2>Table of Contents</h2>
                            
                            <div class="toc-item" style="margin-left:0px"><a href="#introduction"><strong>1</strong><span>Introduction to Mahout Recommender plugin</span></a></div>
                            
                            <div class="toc-item" style="margin-left:10px"><a href="#changes"><strong>1.1</strong><span>Change Log</span></a></div>
                            
                            <div class="toc-item" style="margin-left:0px"><a href="#gettingStarted"><strong>2</strong><span>Getting Started</span></a></div>
                            
                            <div class="toc-item" style="margin-left:0px"><a href="#configuration"><strong>3</strong><span>Configuration</span></a></div>
                            
                            <div class="toc-item" style="margin-left:10px"><a href="#basicConfiguration"><strong>3.1</strong><span>Basic Configuration</span></a></div>
                            
                            <div class="toc-item" style="margin-left:10px"><a href="#dataModel"><strong>3.2</strong><span>The MySQL Data Model</span></a></div>
                            
                            <div class="toc-item" style="margin-left:0px"><a href="#commandLine"><strong>4</strong><span>The Command Line</span></a></div>
                            
                            <div class="toc-item" style="margin-left:0px"><a href="#recommenderController"><strong>5</strong><span>The Recommender Controller</span></a></div>
                            
                            <div class="toc-item" style="margin-left:10px"><a href="#evaluator"><strong>5.1</strong><span>Web-based Recommenders' Evaluator</span></a></div>
                            
                            <div class="toc-item" style="margin-left:10px"><a href="#webRecommender"><strong>5.2</strong><span>Web-based Recommender</span></a></div>
                            
                            <div class="toc-item" style="margin-left:20px"><a href="#restSupport"><strong>5.2.1</strong><span>REST Support</span></a></div>
                            
                            <div class="toc-item" style="margin-left:0px"><a href="#sampleApplication"><strong>6</strong><span>The Libimseti Sample Application</span></a></div>
                            
                            <div class="toc-item" style="margin-left:0px"><a href="#consulting"><strong>7</strong><span>Consulting and Community</span></a></div>
                            
                            <div style="clear:both" ></div>
                        </div>
                        
                        

<h1 id="introduction">1 Introduction to Mahout Recommender plugin</h1>
The Mahout Recommender plugin enabled you to use <a href="http://mahout.apache.org/" target="blank">Apache Mahout</a> recommendation 
algorithms in your Grails project. With the plugin, you can find an effective recommender, 
evaluating precision and recall, and evaluating the performance of the 
selected recommender without writing single line of code.<p class="paragraph"/>Then, the selected recommender can be enabled by configuration and used by your application instantly.<p class="paragraph"/>You only need to write custom recommender when out-of-the-box recommenders doesn't meet 
your application-specific requirements.


<h2 id="changes">1.1 Change Log</h2>
<strong class="bold">18-Dec-2011 0.5</strong>
<ul class="star">
<li>First release of the plugin.</li>
<li>Included Apache Mahout 0.5 jar files.</li>
<li>Introduced command line: <a href="../ref/Command Line/average-diff-evaluator.html" class="Command Line">average-diff-evaluator</a>, <a href="../ref/Command Line/create-table.html" class="Command Line">create-table</a>, <a href="../ref/Command Line/import-data.html" class="Command Line">import-data</a>, <a href="../ref/Command Line/install-libimseti-sample-app.html" class="Command Line">install-libimseti-sample-app</a>, <a href="../ref/Command Line/irstats-evaluator.html" class="Command Line">irstats-evaluator</a>, <a href="../ref/Command Line/load-runner.html" class="Command Line">load-runner</a>, <a href="../ref/Command Line/recommender.html" class="Command Line">recommender</a> and <a href="../ref/Command Line/uninstall-libimseti-sample-app.html" class="Command Line">uninstall-libimseti-sample-app</a>.</li>
<li>Introduced recommender controller (port of RecommenderServlet) and web-based recommenders' evaluator.</li>
</ul><p class="paragraph"/>


<h1 id="gettingStarted">2 Getting Started</h1>
Install the plugin into your project with the following command: 
<div class="code"><pre>grails install&#45;plugin mahout&#45;recommender</pre></div><p class="paragraph"/>After the plugin installed into your project, the following configurations will be 
appended to your project's Config.groovy file: 
<div class="code"><pre>// Added by the Mahout Recommender plugin:
mahout.recommender.mode = 'input'  // 'input', 'config' or 'class'</pre></div>



<h1 id="configuration">3 Configuration</h1>
The plugin support both the file data model and MySQL data model.<p class="paragraph"/>For file data model, no additional configuration is required to make use of 
command line tool of the plugin, but the data file must be located in classpath such as <code>grails-app/conf</code> 
and data file name must be specified in <code>mahout.recommender.data.file</code> for web-based tools such as 
<a href="../guide/single.html#evaluator" class="guide">recommenders' evaluator</a> and <a href="../guide/single.html#webRecommender" class="guide">recommender</a>.<p class="paragraph"/>For MySQL data model, change <code>mahout.recommender.data.model</code> from <code>'file'</code> to <code>'mysql'</code> 
and configure the <code>DataSource.groovy</code> properly. 


<h2 id="basicConfiguration">3.1 Basic Configuration</h2>
The following table described configuration items in <code>Config.groovy</code> supported by the plugin:
<ul class="star">
<li>Item 10 to 21 below only applicable when <code>mahout.recommender.data.model = 'mysql'</code></li>
<li>MahoutRecommenderConstants = org.grails.mahout.recommender.MahoutRecommenderConstants</li>
<li>AbstractJDBCDataModel = org.apache.mahout.cf.taste.impl.model.jdbc.AbstractJDBCDataModel</li>
<li>AbstractJDBCDiffStorage = org.apache.mahout.cf.taste.impl.recommender.slopeone.jdbc.AbstractJDBCDiffStorage</li>
</ul><p class="paragraph"/><table class="wiki-table" cellpadding="0" cellspacing="0" border="0"><tr><th><strong class="bold">No.</strong></th><th><strong class="bold">Configuration Item</strong></th><th><strong class="bold">Description</strong></th></tr><tr class="table-odd"><td>1.</td><td>mahout.recommender.mode</td><td>Specify mode to determine recommender to be used. Default value is 'input' specified in <code>MahoutRecommenderConstants.DEFAULT_MODE</code>. Valid values: 'input', 'config' or 'class'. In 'input' mode, user need to specify value for item 5 to 9 below on screen. In 'config' mode, it will take values configured in item 5 to 9 below. In 'class' mode, it will take value specified in <code>mahout.recommender.builderClass</code>.</td></tr><tr class="table-even"><td>2.</td><td>mahout.recommender.data.model</td><td>Specify which data model to be used. Default value is 'file' specified in <code>MahoutRecommenderConstants.DEFAULT_DATA_MODEL</code>. Valid values: 'file' or 'mysql'. When the value is 'file'data file name must be specified in <code>mahout.recommender.data.file</code> for web-based tools such as <a href="../guide/single.html#evaluator" class="guide">recommenders' evaluator</a> and recommender.</td></tr><tr class="table-odd"><td>3.</td><td>mahout.recommender.data.file</td><td>Data file to be loaded by <code>FileDataModel</code>. Default value is 'data.csv' specified in <code>MahoutRecommenderConstants.DEFAULT_DATA_FILE</code>. The data file specified must me located in classpath such as <code>grails-app/config</code>.</td></tr><tr class="table-even"><td>4.</td><td>mahout.recommender.builderClass</td><td>Recommender to be loaded when <code>mahout.recommender.mode</code> is 'class'. Value specified must be full class name of the class that implements <code>org.apache.mahout.cf.taste.eval.RecommenderBuilder</code> such as <code>'mia.recommender.ch05.LibimsetiRecommenderBuilder'</code>.</td></tr><tr class="table-odd"><td>5.</td><td>mahout.recommender.hasPreference</td><td>Specify "has preference value" when <code>mahout.recommender.mode</code> is 'config'. Valid values: true or false.</td></tr><tr class="table-even"><td>6.</td><td>mahout.recommender.selected</td><td>Specify recommender when <code>mahout.recommender.mode</code> is 'config'. Valid values: 1, 2 or 3 (1. user-based, 2. item-based or 3. slope-one).</td></tr><tr class="table-odd"><td>7.</td><td>mahout.recommender.similarity</td><td>Specify similarity metric when <code>mahout.recommender.mode</code> is 'config'. Valid values: 'PearsonCorrelation', 'EuclideanDistance', 'LogLikelihood' or 'TanimotoCoefficient'.</td></tr><tr class="table-even"><td>8.</td><td>mahout.recommender.withWeighting</td><td>Specify whether weighting is enabled when <code>mahout.recommender.mode</code> is 'config'. Valid values: true or false. Applicable to 'PearsonCorrelation' or 'EuclideanDistance' similarity metric or Slope-one recommender only.</td></tr><tr class="table-odd"><td>9.</td><td>mahout.recommender.neighborhood</td><td>Specify whether fix-size neighborhood or threshold-based neighborhood to be used when <code>mahout.recommender.mode</code> is 'config' and user-based recommender is selected. Integer value for fix-size neighborhood such as 4 and decimal value (&#60; 1.0) for threshold-based neighborhood such as 0.5.</td></tr><tr class="table-even"><td>10.</td><td>mahout.recommender.preference.table</td><td>Overwrite default value 'taste_preferences' specified in <code>AbstractJDBCDataModel.DEFAULT_PREFERENCE_TABLE</code>.</td></tr><tr class="table-odd"><td>11.</td><td>mahout.recommender.preference.userIdColumn</td><td>Overwrite default value 'user_id' specified in <code>AbstractJDBCDataModel.DEFAULT_USER_ID_COLUMN</code>.</td></tr><tr class="table-even"><td>12.</td><td>mahout.recommender.preference.itemIdColumn</td><td>Overwrite default value 'item_id' specified in <code>AbstractJDBCDataModel.DEFAULT_ITEM_ID_COLUMN</code>.</td></tr><tr class="table-odd"><td>13.</td><td>mahout.recommender.preference.valueColumn</td><td>Overwrite default value 'preference' specified in <code>AbstractJDBCDataModel.DEFAULT_PREFERENCE_COLUMN</code>.</td></tr><tr class="table-even"><td>14.</td><td>mahout.recommender.preference.timestampColumn</td><td>Overwrite default value 'last_updated' specified in <code>MahoutRecommenderConstants.DEFAULT_PREFERENCE_TIME_COLUMN</code>.</td></tr><tr class="table-odd"><td>15.</td><td>mahout.recommender.slopeone.diffs.table</td><td>Overwrite default value 'taste_slopeone_diffs' specified in <code>AbstractJDBCDiffStorage.DEFAULT_DIFF_TABLE</code>.</td></tr><tr class="table-even"><td>16.</td><td>mahout.recommender.slopeone.diffs.itemIDAColumn</td><td>Overwrite default value 'item_id_a' specified in <code>AbstractJDBCDiffStorage.DEFAULT_ITEM_A_COLUMN</code>.</td></tr><tr class="table-odd"><td>17.</td><td>mahout.recommender.slopeone.diffs.itemIDBColumn</td><td>Overwrite default value 'item_id_b' specified in <code>AbstractJDBCDiffStorage.DEFAULT_ITEM_B_COLUMN</code>.</td></tr><tr class="table-even"><td>18.</td><td>mahout.recommender.slopeone.diffs.countColumn</td><td>Overwrite default value 'count' specified in <code>AbstractJDBCDiffStorage.DEFAULT_COUNT_COLUMN</code>.</td></tr><tr class="table-odd"><td>19.</td><td>mahout.recommender.slopeone.diffs.avgColumn</td><td>Overwrite default value 'average_diff' specified in <code>AbstractJDBCDiffStorage.DEFAULT_AVERAGE_DIFF_COLUMN</code>.</td></tr><tr class="table-even"><td>20.</td><td>mahout.recommender.slopeone.diffs.stdevColumn</td><td>Overwrite default value 'standard_deviation' specified in <code>AbstractJDBCDiffStorage.DEFAULT_STDEV_COLUMN</code>.</td></tr><tr class="table-odd"><td>21.</td><td>mahout.recommender.slopeone.diffs.minDiffCount</td><td>Overwrite default value 2 specified in <code>MahoutRecommenderConstants.DEFAULT_SLOPEONE_DIFFS_MIN_COUNT</code>.</td></tr><tr class="table-even"><td>22.</td><td>mahout.recommender.evaluator.trainingPercentage</td><td>Overwrite default value 0.7 specified in <code>MahoutRecommenderConstants.DEFAULT_TRAINING_PERCENTAGE</code>.</td></tr><tr class="table-odd"><td>23.</td><td>mahout.recommender.evaluator.evaluationPercentage</td><td>Overwrite default value 1.0 specified in <code>MahoutRecommenderConstants.DEFAULT_EVALUATION_PERCENTAGE</code>.</td></tr></table>


<h2 id="dataModel">3.2 The MySQL Data Model</h2>
The plugin is using file data model by default, this section will described step-by-step 
of how to setup your project to use MySQL data model with assumption that MySQL database 
is pre-installed and started in your development workstation.<p class="paragraph"/><h3>Steps to setup Mahout Recommendation Plugin with MySQL database</h3>
<h4>Create Recommender Database in MySQL</h4>
<ul class="star">
<li>Login to MySQL using command below:</li>
</ul><p class="paragraph"/><div class="code"><pre>mysql &#45;u root</pre></div>
<ul class="star">
<li>Create recommender database using command below:</li>
</ul><p class="paragraph"/><div class="code"><pre>create database recommender</pre></div><p class="paragraph"/><h4>Download and Setup MySQL Connector/J (JDBC Driver)</h4>
<ul class="star">
<li>Download latest MySQL Connector/J at <a href="http://www.mysql.com/downloads/connector/j/" target="blank">http://www.mysql.com/downloads/connector/j/</a>.</li>
<li>Extract the downloaded compressed file and copy the mysql-connector-java-5.1.x-bin.jar to lib directory of your grails application.</li>
</ul><p class="paragraph"/><h4>Update Config.groovy</h4>
<ul class="star">
<li>Update <code>mahout.recommender.data.model</code> in <code>grails-app/conf/Config.groovy</code> from 'file' to 'mysql', for example:</li>
</ul><p class="paragraph"/><div class="code"><pre>mahout.recommender.data.model = 'mysql'  // 'file' or 'mysql'</pre></div><p class="paragraph"/><h4>Update Datasource.groovy</h4>
<ul class="star">
<li>Update database configurations in <code>grails-app/conf/DataSource.groovy</code> from HSQL or H2 to MySQL, for example:</li>
</ul><p class="paragraph"/><div class="code"><pre>dataSource &#123;
    pooled = <span class="java&#45;keyword">true</span>
    driverClassName = <span class="java&#45;quote">"com.mysql.jdbc.Driver"</span>
    username = <span class="java&#45;quote">"root"</span>
    password = <span class="java&#45;quote">""</span>
&#125;
hibernate &#123;
    cache.use_second_level_cache = <span class="java&#45;keyword">true</span>
    cache.use_query_cache = <span class="java&#45;keyword">true</span>
    cache.provider_class = 'net.sf.ehcache.hibernate.EhCacheProvider'
&#125;
// environment specific settings
environments &#123;
    development &#123;
        dataSource &#123;
            dbCreate = <span class="java&#45;quote">"create&#45;drop"</span> // one of 'create', 'create&#45;drop','update'
            url = <span class="java&#45;quote">"jdbc:mysql://localhost:3306/recommender"</span>
        &#125;
    &#125;
    test &#123;
        dataSource &#123;
            dbCreate = <span class="java&#45;quote">"create&#45;drop"</span>          
            url = <span class="java&#45;quote">"jdbc:mysql://localhost:3306/recommender"</span>
        &#125;
    &#125;
    production &#123;
        dataSource &#123;
            dbCreate = <span class="java&#45;quote">"update"</span>
            url = <span class="java&#45;quote">"jdbc:mysql://localhost:3306/recommender"</span>
        &#125;
    &#125;
&#125;</pre></div><p class="paragraph"/>To save your typing, you can download the MySQL's <a href="../ref/Httpsgithubcomlimcheekinmahoutrecommenderrawmastergrailsappconf Data Sourcegroovy/DataSource.groovy.html" class="https://github.com/limcheekin/mahout-recommender/raw/master/grails-app/conf/DataSource.groovy">DataSource.groovy</a>.<p class="paragraph"/>Done! You should able run your mahout recommender application with MySQL data model without any problem.



<h1 id="commandLine">4 The Command Line</h1>
The command line tools of the plugin can be divided to the following categories:
<h2>Recommender</h2>
All commands below using the common input process with additional command-specific input.
<ul class="star">
<li><a href="../ref/Command Line/average-diff-evaluator.html" class="Command Line">average-diff-evaluator</a></li>
<li><a href="../ref/Command Line/irstats-evaluator.html" class="Command Line">irstats-evaluator</a></li>
<li><a href="../ref/Command Line/load-runner.html" class="Command Line">load-runner</a></li>
<li><a href="../ref/Command Line/recommender.html" class="Command Line">recommender</a></li>
</ul><p class="paragraph"/><h2>Database</h2>
<ul class="star">
<li><a href="../ref/Command Line/create-table.html" class="Command Line">create-table</a></li>
<li><a href="../ref/Command Line/import-data.html" class="Command Line">import-data</a></li>
</ul><p class="paragraph"/><h2>Libimseti Sample Application</h2>
<ul class="star">
<li><a href="../ref/Command Line/install-libimseti-sample-app.html" class="Command Line">install-libimseti-sample-app</a></li>
<li><a href="../ref/Command Line/uninstall-libimseti-sample-app.html" class="Command Line">uninstall-libimseti-sample-app</a></li>
</ul><p class="paragraph"/>


<h1 id="recommenderController">5 The Recommender Controller</h1>
The recommender controller is enhanced version of mahout's RecommenderServlet implementation. 
It included a web-based recommenders' evaluator to enabled user to find an effective recommender.


<h2 id="evaluator">5.1 Web-based Recommenders' Evaluator</h2>
The web-based recommenders' evaluator supports user to evaluate recommenders' 
effectiveness by average difference. Recommenders under evaluation including 
user-based recommender, item-based recommender and slope-one recommender with 
different type of similarity metrics such as pearson correlation, euclidean distance,
Log-likelihood and tanimoto coefficient.<p class="paragraph"/>By access to <a href="http://localhost:8080/<yourApplication>/recommender/evaluator" target="blank">http://localhost:8080/&#60;yourApplication&#62;/recommender/evaluator</a> 
in your browser, you will see a screen similar to the following image:<p class="paragraph"/><img border="0" class="center" src="../img/evaluator.png"></img><p class="paragraph"/>Start running the evaluation process by click on "Run Evaluator" link.<p class="paragraph"/>



<h2 id="webRecommender">5.2 Web-based Recommender</h2>
The web-based recommender supports user to test recommender using web user interface 
with or without debug-enabled.<p class="paragraph"/>By access to <a href="http://localhost:8080/<yourApplication>/recommender/settings" target="blank">http://localhost:8080/&#60;yourApplication&#62;/recommender/settings</a> 
in your browser, you will see a screen similar to the following image:<p class="paragraph"/><img border="0" class="center" src="../img/settings.png"></img><p class="paragraph"/>After fill-in all required fields, click on "Submit" button to see the recommendations.<p class="paragraph"/><blockquote class="note">
You can checked the check box of "Enabled debug?" to see the recommendation results with more debugging information.
</blockquote><p class="paragraph"/><h3>Recommendations Without Debug-enabled</h3>
<img border="0" class="center" src="../img/recommenderHTML.png"></img><p class="paragraph"/><h3>Recommendations With Debug-enabled</h3>
<img border="0" class="center" src="../img/recommenderWithDebugEnabledHTML.png"></img> 



<h2 id="restSupport">5.2.1 REST Support</h2>
Besides display the recommendation results in HTML format, the web-based recommender 
support return the results in XML and JSON format too.<p class="paragraph"/><h3>XML Recommended Items</h3>
By access to the following URL in your browser:
<div class="code"><pre>http://localhost:8080/&#60;yourApplication&#62;/recommender.xml?userID=1&#38;howMany=20&#38;
r=1&#38;p=<span class="java&#45;keyword">true</span>&#38;s=PearsonCorrelation&#38;w=<span class="java&#45;keyword">true</span>&#38;n=4</pre></div><p class="paragraph"/>You will see XML message similar to the below display in your browser
<div class="code"><pre><span class="xml&#45;tag">&#60;recommendedItems&#62;</span>
  <span class="xml&#45;tag">&#60;item&#62;</span>
    <span class="xml&#45;tag">&#60;value&#62;</span>5.0<span class="xml&#45;tag">&#60;/value&#62;</span>
    <span class="xml&#45;tag">&#60;id&#62;</span>104<span class="xml&#45;tag">&#60;/id&#62;</span>
  <span class="xml&#45;tag">&#60;/item&#62;</span>
  <span class="xml&#45;tag">&#60;item&#62;</span>
    <span class="xml&#45;tag">&#60;value&#62;</span>4.0<span class="xml&#45;tag">&#60;/value&#62;</span>
    <span class="xml&#45;tag">&#60;id&#62;</span>106<span class="xml&#45;tag">&#60;/id&#62;</span>
  <span class="xml&#45;tag">&#60;/item&#62;</span>
<span class="xml&#45;tag">&#60;/recommendedItems&#62;</span></pre></div><p class="paragraph"/>If some error occur, you will see XML message similar to the following:
<div class="code"><pre><span class="xml&#45;tag">&#60;error&#62;</span>
  <span class="xml&#45;tag">&#60;message&#62;</span>Recommender cannot be blank.<span class="xml&#45;tag">&#60;/message&#62;</span>
<span class="xml&#45;tag">&#60;/error&#62;</span></pre></div><p class="paragraph"/><h3>JSON Recommended Items</h3>
By access to the following URL in your browser:
<div class="code"><pre>http://localhost:8080/&#60;yourApplication&#62;/recommender.json?userID=1&#38;howMany=20&#38;
r=1&#38;p=<span class="java&#45;keyword">true</span>&#38;s=PearsonCorrelation&#38;w=<span class="java&#45;keyword">true</span>&#38;n=4</pre></div>
<blockquote class="note">
The URL above is identical to the XML request, except it invoke to <code>recommender.json</code> 
instead of <code>recommender.xml</code>.
</blockquote><p class="paragraph"/>You will see JSON message similar to the below display in your browser
<div class="code"><pre>&#123;<span class="java&#45;quote">"recommendedItems"</span>:&#91;&#123;<span class="java&#45;quote">"value"</span>:5,<span class="java&#45;quote">"id"</span>:104&#125;,&#123;<span class="java&#45;quote">"value"</span>:4,<span class="java&#45;quote">"id"</span>:106&#125;&#93;&#125;</pre></div><p class="paragraph"/>If some error occur, you will see JSON message similar to the following:
<div class="code"><pre>&#123;<span class="java&#45;quote">"error"</span>:&#123;<span class="java&#45;quote">"message"</span>:<span class="java&#45;quote">"Recommender cannot be blank."</span>&#125;&#125;</pre></div><p class="paragraph"/><h3>Usage</h3>
<div class="code"><pre>http://localhost:8080/&#60;yourApplication&#62;/recommender.&#91;json|xml&#93;?
userID=&#91;<span class="java&#45;object">Long</span>&#93;&#38;howMany=&#91;<span class="java&#45;object">Integer</span>&#93;&#38;r=&#91;1|2|3&#93;&#38;p=&#91;<span class="java&#45;keyword">true</span>|<span class="java&#45;keyword">false</span>&#93;&#38;
s=&#91;PearsonCorrelation|EuclideanDistance|LogLikelihood|TanimotoCoefficient&#93;&#38;
w=&#91;<span class="java&#45;keyword">true</span>|<span class="java&#45;keyword">false</span>&#93;&#38;n=&#91;<span class="java&#45;object">Integer</span>|<span class="java&#45;object">Double</span>&#93;</pre></div>
<ol>
<li>File extension: <code>recommender.xml</code> for XML request, <code>recommender.json</code> for JSON request.</li>
<li><code>userID</code>: Specify user ID. in numeric value as java.lang.Long type.</li>
<li><code>howMany</code>: Specify expected number of recommendations return in numeric value as java.lang.Integer type.</li>
<li><code>r</code>: Specify recommender. Valid values: 1, 2 or 3 (1. user-based, 2. item-based or 3. slope-one).</li>
<li><code>p</code>: Specify "has preference value". Valid values: true or false.</li>
<li><code>s</code>: Specify similarity metric. Valid values: PearsonCorrelation, EuclideanDistance, LogLikelihood or TanimotoCoefficient.</li>
<li><code>w</code>: Specify whether weighting is enabled. Valid values: true or false. Applicable to 'PearsonCorrelation' or 'EuclideanDistance' similarity metric or Slope-one recommender only.</li>
<li><code>n</code>: Specify whether fix-size neighborhood or threshold-based neighborhood when user-based recommender is selected in <code>r</code> above. Integer value for fix-size neighborhood such as 4 and Double value (&#60; 1.0) for threshold-based neighborhood such as 0.5.</li>
</ol><p class="paragraph"/><blockquote class="note">
Item 4 to 8 above need to be specified only when <code>mahout.recommender.mode = 'input'</code> in <code>Config.groovy</code> file.
</blockquote>


<h1 id="sampleApplication">6 The Libimseti Sample Application</h1>
The Libimseti Sample Application is taken from source code of chapter 5 
of <a href="http://www.manning.com/owen/" target="blank">Mahout In Action</a>.<p class="paragraph"/>Thanks to Sean Owen, one of the book authors of Mahout In Action granted the
right <a href="http://www.manning-sandbox.com/thread.jspa?messageID=121614#121614" target="blank">in this message</a> 
to use the source code in the plugin as sample application.<p class="paragraph"/>The sample application's data set derived from the Czech dating site Líbímseti 
(http://libimseti.cz/). Users of this site are able to rate other users’ profiles 
on a scale of 1 to 10. A 1 means NELÍBÍ, or dislike, and a 10 means LÍBÍ, or like. 
The presentation of profiles on the site suggests that users of such a site are 
expressing some assessment of the profiled user’s appeal, attractiveness, and dateability.<p class="paragraph"/>You’ll need to download a copy of the complete data from this site, 
at <a href="http://www.occamslab.com/petricek/data/libimseticomplete.zip" target="blank">http://www.occamslab.com/petricek/data/libimseticomplete.zip</a>, 
then extract the gender.dat and ratings.dat file to <code>grails-app/conf</code> directory.<p class="paragraph"/>There is 17,359,346 ratings in ratings.dat file. It contains users’ explicit ratings for items, where items are other
people’s user profiles. That means a recommender system built on this data will be
recommending people to people.<p class="paragraph"/>Please see <a href="http://www.occamslab.com/petricek/papers/dating/brozovsky07recommender.pdf" target="blank">Recommender System for Online Dating Service</a> 
by Lukas Brozovsky and Vaclav Petricek for more information.<p class="paragraph"/>You may run the sample application using file data model or MySQL data model. 
Please see the following commands to install and unstall the sample application:
<ul class="star">
<li><a href="../ref/Command Line/install-libimseti-sample-app.html" class="Command Line">install-libimseti-sample-app</a></li>
<li><a href="../ref/Command Line/uninstall-libimseti-sample-app.html" class="Command Line">uninstall-libimseti-sample-app</a></li>
</ul><p class="paragraph"/>


<h1 id="consulting">7 Consulting and Community</h1>
If you are interested in commercial arrangement to build or improve your recommendation system, 
please send an e-mail message to limcheekin@vobject.com.<p class="paragraph"/>When you found some issues for the plugin, please write a detail issue report at <a href="../ref/Httpsgithubcomlimcheekinmahoutrecommenderissues/https://github.com/limcheekin/mahout-recommender/issues.html" class="https://github.com/limcheekin/mahout-recommender/issues">https://github.com/limcheekin/mahout-recommender/issues</a>.<p class="paragraph"/>Lastly, we are welcome your feedback and would like to hear your comments for the plugin or the plugin's documentation. 
You are invited to join the project's discussion forum at <a href="http://groups.google.com/group/grails-mahout-recommender" target="blank">http://groups.google.com/group/grails-mahout-recommender</a>, 
see you there! 


                    </div>
                </td>
                <td id="col2">
            <div class="local clearfix">
                <div class="local-title">
                    <a href="../guide/index.html" target="mainFrame">Quick Reference</a>
                    <span class="toggle">(<a href="#" onclick="localToggle(); return false;">hide</a>)</span>
                </div>
                <div class="menu">
                    
                    <div class="menu-block"><h1 class="menu-title" onclick="toggleRef(this.parentNode.childNodes[1])">Command Line</h1><div class="menu-sub">
                        
                        
                        <div class="menu-item"><a href="../ref/Command%20Line/average-diff-evaluator.html">average-diff-evaluator</a>
                        </div>
                        
                        <div class="menu-item"><a href="../ref/Command%20Line/create-table.html">create-table</a>
                        </div>
                        
                        <div class="menu-item"><a href="../ref/Command%20Line/import-data.html">import-data</a>
                        </div>
                        
                        <div class="menu-item"><a href="../ref/Command%20Line/install-libimseti-sample-app.html">install-libimseti-sample-app</a>
                        </div>
                        
                        <div class="menu-item"><a href="../ref/Command%20Line/irstats-evaluator.html">irstats-evaluator</a>
                        </div>
                        
                        <div class="menu-item"><a href="../ref/Command%20Line/load-runner.html">load-runner</a>
                        </div>
                        
                        <div class="menu-item"><a href="../ref/Command%20Line/recommender.html">recommender</a>
                        </div>
                        
                        <div class="menu-item"><a href="../ref/Command%20Line/uninstall-libimseti-sample-app.html">uninstall-libimseti-sample-app</a>
                        </div>
                        
                        </div>
                    </div>
                    
                </div>
            </div>
        </td>
            </tr>
        </table>

        <div id="footer">
            Copyright 2011-2012 the original author or authors.
            <a href="http://mahout.apache.org/" target="_blank"><img src="https://cwiki.apache.org/confluence/download/attachments/80899/mahout-logo-poweredby-55.png" alt="Mahout Powered By Logo" border="0" /></a>
        </div>



<script type="text/javascript" src="../js/docs.js"></script>

    </body>
</html>
